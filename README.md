# Эмулятор потоков в реальном времени

### Описание проекта:
Этот проект имитирует поток данных с приемников в реальном времени. Благодаря этой системе пользователи могут получать архивные данные с конкретного приемника. Для администратора - проект прост в развертывании.

### Функционал:

- Администратор сам выбирает дату данных: Для работы системы администратору всего лишь нужно ввести дату, данные по которой будут транслироваться в реальном времени.

- Автоматическая загрузка данных. После ввода даты, приложение автоматически загрузит данные.

- Обработка данных: Полученные данные проходят обработку, преобразуются в формат, подходящий для потоковой передачи.

- Получение тем: С помощью запроса к FastAPI пользователь может получить список тем работающих на текущий момент потоков.

- Публикация данных в реальном времени на сайте: помимо трасляции через publisher данные можно посмотреть на сайте, предоставленном администратором.

- Автоматическая ежедневная загрузка данных: Приложение каждый день в 22:00 автоматически проводит загрузку данных и подготавливает их к работе.

- Траслируемые данные автоматически переходят на следующий день

### Архитектура приложения:

##### Запуск и работа приложения:

![Старт](https://github.com/user-attachments/assets/f8c80663-b401-4d1d-b75f-30ee86c6b809)

##### Взаимодействие с пользователем:

![FastAPI](https://github.com/user-attachments/assets/8a51150c-06e6-4db8-b035-c49a2d428f1f)

### Установка и запуск приложения:

1) Создайте и перейдите в папку `thread_sim` и склонируйте репозиторий:
```sh
mkdir thread_sim
cd thread_sim
git clone https://github.com/shokorev25/ThreadSimulations-2.0
chmod +x CRX2RNX
```
2) Установите pip и зависимости, которые находятся в файле `requirements.txt`:
```sh
sudo apt install python3-pip
pip install -r requirements.txt
```
3) Установка uvicorn для FastAPI:

```sh
sudo apt install uvicorn
```

! Если вы запускаете проект локально, то откройте браузер и перейдите по адресу `http://127.0.0.1:8000/docs`, если вы запускаете его с виртуальной машины Яндекса, то перейдите по адресу `http://IP_вашей_ВМ:8000/docs`

4) Запуск скриптов приложения:

```sh
sudo python3 ./main.py <дата данных>
sudo python3 ./daily.py <дата данных>
uvicorn fastapiServer:app --reload --port 8000 --host 0.0.0.0
```

### FastAPI
Cерверная часть веб-приложения, которое предоставляет два основных функционала:

##### Отображение списка тем:
Этот маршрут отвечает на HTTP-запрос GET по адресу ```/getTopicList```.
Проверяются работающие на текущий момент сервисы и возвращается JSON-ответ с полученным списком тем.

##### Потоковая передача данных:
Этот маршрут отвечает на HTTP-запрос GET по адресу ```/```.
Предоставление данных в формате "Server-Sent Events" (SSE) с использованием шаблонов Jinja2 для отрисовки HTML страницы.
